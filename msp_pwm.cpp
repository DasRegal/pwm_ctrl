//*****************************************************************************
//
// Имя файла    : 'msp_pwm.cpp'
// Заголовок    : Драйвер
// Автор        : Барышников Р. А.
// Контакты     : plexus_bra@rambler.ru
// Дата         : 26.06.2013
//
//*****************************************************************************

#include "msp_pwm.h"
#include "spi.h"

// =============================================================================
//                                 Отладка
// =============================================================================

// =============================================================================
//                                Костанты
// =============================================================================

// =============================================================================
//                                 Макросы
// =============================================================================

// =============================================================================
//                           Глобальные переменные
// =============================================================================
	
	CSPI spi;

// =============================================================================
//                             Прототипы функций
// =============================================================================

void InitSPI2PWM(int miso, int mosi, int clk)
{
	spi.Init(miso, mosi, clk);
}

void SetSPI2PWM(int* bufChan, char channels)
{
	spi.WriteByte(0xFF);
	spi.WriteByte(0xFF);
	
	for (int i = 0; i < channels; i++, bufChan++)
	{
		spi.WriteByte(*bufChan >> 8);
		spi.WriteByte(*bufChan & 0xFF);
	}
}
